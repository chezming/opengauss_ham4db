# Agents

You may optionally install [ham4db-agent](https://gitee.com/opengauss/ham4db-agent) on your MySQL hosts.
`ham4db-agent`* is a service which registers with your `ham4db` server and accepts requests by `ham4db` via web API.

Supported requests relate to general, OS and LVM operations, such as:
- Stopping/starting MySQL service on host
- Getting MySQL OS info such as data directory, port, disk space usage
- Performing various LVM operations such as finding LVM snapshots, mounting/unmounting a snapshot
- Transferring data between hosts (e.g. via `netcat`)

`ham4db-agent` is an ongoing effort in solving host-specific operations. It was originally developed to overcome cloning and restoring issues, and later expanded to other areas.

The information and API exposed by `ham4db-agent` to `ham4db` allow `ham4db` to coordinate and operate seeding of new or corrupted machines by getting data from freshly available snapshots. Moreover, it allows `ham4db`
to automatically suggest the source of data for a given MySQL machine, by looking up such hosts that actually have a
recent snapshot available, preferably in the same datacenter.

For security measures, an agent requires a token to operate all but the simplest requests. This token is randomly generated by the agent and negotiated with `ham4db`. `ham4db` does not expose the agent's token (right now some work needs to be done on obscuring the token on error messages).
